<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="A simple privacy oriented bootstrap hugo blog"><meta name=keywords content="system,security,hardware,Intell,"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.100.1"><link rel=stylesheet type=text/css href=https://gamjagoon.github.io/css/bootstrap.min.css><title>01 system security : Intel SGX</title></head><body><div id=content><nav class="navbar text-center justify-content-start sticky-top bg-white mt-2 mb-5"><a href=https://gamjagoon.github.io><span class="btn btn-sm btn-outline-primary m-1">Home</span></a>
<a href=https://gamjagoon.github.io/about><span class="btn btn-sm btn-outline-secondary m-1">About</span></a>
<a href=https://gamjagoon.github.io/post><span class="btn btn-sm btn-outline-success m-1">Blog</span></a>
<a href=https://gamjagoon.github.io/tags><span class="btn btn-sm btn-outline-warning m-1">Tags</span></a></nav><section class="container text-justified mt-3"><h2 class=font-weight-bold>01 system security : Intel SGX</h2><small class="text-secondary mb-5">Posted on May 25, 2021 | 1 minute read</small><div class="text-monospace mt-2" style="font-family:nanum gothic,sans-serif"><hr><h4 id=클라우드-환경><strong>클라우드 환경</strong></h4><blockquote></blockquote><p><strong>클라우드 환경의 필요성</strong></p><ul><li>클라우드 환경은 유저를 위해 웹서비스, 파일 저장을 위한 환경을 제공함</li><li>클라우드 환경 제공자는 비용 절감을 위해 클라우드를 사용하여 서비스를 제공함<ul><li>GCP, Azure, AWS 등</li></ul></li></ul><p><strong>제공자의 신뢰성 문제</strong></p><ul><li>제공받는 데이터 : 유저는 클라우드 제공자의 데이터를 사용함</li><li>유저의 코드와 데이터 : 클라우드 제공자는 유저의 코드를 유저의 데이터와 같이 실행해야함<br>=> 정부 및 군조직, 회사의 보안 데이터</li></ul><p><strong>기존의 환경</strong></p><ul><li>유저 가상머신의 Hypervisor</li><li>제공자가 제어한는 OS의 컨테이너</li><li>단순한 계약에 의한 제공자의 데이터 유출과 충돌의 방지</li></ul><hr><h4 id=intel-sgx-개요><strong>Intel SGX 개요</strong></h4><blockquote></blockquote><p><strong>ARM 의 TrustZone과 비교</strong></p><ul><li>TrustZone : 유저 디바이스에서 서비스의 계산을 수행함</li><li>Intel_SGX : 공유 클라우드 공간에서 유저의 계산을 수행</li><li>Enclave<ul><li><p>SGX 가 제공하는 실행환경</p></li><li><p>개별적인 메모리를 가지고 있음</p></li><li><p>user application과 같은 Privilege level을 가짐</p><p><p class=md__image><img src=https://gamjagoon.github.io/img/SGX_01.jpg style=max-width:100% alt=Enclave></p></p><blockquote><pre><code>  &lt;SGX 내부&gt;
</code></pre></blockquote></li></ul></li></ul><p><strong>SGX 수행과정</strong></p><ol><li>Client가 App을 클라우드 환경으로 보낸다.</li><li>App은 Untrusted system에 ㅣoad된다.</li><li>Enclave에 load 된다</li><li>code, data의 hash값을 계산하여 Integrity를 생성한다.</li><li>클라이언트에게 hash값을 보낸다</li><li>Client는 기존의 code, data 를 공개키와 비교하여 검증 받는다.</li></ol><hr><h4 id=sgx의-한계점><strong>SGX의 한계점</strong></h4><ul><li>성능문제<ul><li>메모리 접근이 느려짐</li><li>적은 메모리 공간 사용</li></ul></li><li>Isolation이 완벽하지 않음<ul><li>Cache timing attack, fault injection에 취약</li><li>Microcode malicious patchin 공격</li><li>Untrusted I/O</li><li>CPU 상에서 일어나는 버그</li></ul></li></ul><p><strong>메모리가 부족한 이유</strong></p><ul><li>SGX는 공격자가 하드웨어 상에서 메모리를 재배치할 가능성이 있어 신뢰하지 않음</li><li>Enclav가 쓰고 읽었다는 것을 확실히 하기위해서 Merkle tree 를 사용함<ul><li><p>Load : hash 이후 동작</p></li><li><p>Store : hash update가 필요함</p><p><p class=md__image><img src=https://gamjagoon.github.io/img/SGX_02.jpg style=max-width:100% alt="Merkle tree"></p></p><blockquote><pre><code>  &lt;Merkle tree&gt;
</code></pre></blockquote></li></ul></li></ul></div><hr><div>Share via
<a title=email href='mailto:?subject=01%20system%20security%20%3a%20Intel%20SGX&body=https%3a%2f%2fgamjagoon.github.io%2fpost%2fsystem%2f01_intel_sgx-%2f'><button class='btn btn-sm btn-light'>✉️</button></a></div><br><code>Tags:<span class='badge badge-dark'><a class=text-white href=https://gamjagoon.github.io/tags/system>system</a></span>
<span class='badge badge-dark'><a class=text-white href=https://gamjagoon.github.io/tags/security>security</a></span>
<span class='badge badge-dark'><a class=text-white href=https://gamjagoon.github.io/tags/hardware>hardware</a></span>
<span class='badge badge-dark'><a class=text-white href=https://gamjagoon.github.io/tags/intell>Intell</a></span></code><br><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var t=document,e=t.createElement('script');e.async=!0,e.src='//minjae-blog-1.disqus.com/embed.js',e.setAttribute('data-timestamp',+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section><div class="container text-center mt-3"><iframe src="https://duckduckgo.com/search.html?site=https://gamjagoon.github.io&prefill=Site%20Search" style=overflow:hidden;margin:0;padding:0;max-width:80%;height:40px frameborder=0></iframe></div></div></body><footer><div class="container-fluid bg-dark text-white text-monospace text-center mt-2"><small>Copyright © 2008–2021, Steve Francia and the Hugo Authors; all rights reserved. Theme: <a class=text-warning href=https://themes.gohugo.io/monopriv>Monopriv</a> | Crafted with <a class=text-warning href=https://gohugo.io>Hugo</a></small></div></footer><div></div></html>